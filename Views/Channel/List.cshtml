@model List<LetThereBeVoice.Models.Channel>
@{
    ViewData["Title"] = "Channel List";
    var serverId = ViewBag.ServerID;
}

<h2 class="mb-4">Channels in Server</h2>

@if (Model != null && Model.Any())
{
    <ul class="list-group">
        @foreach (var c in Model)
        {
            <li class="list-group-item d-flex justify-content-between align-items-center">
                <div>
                    <strong>@c.ChannelName</strong> <span class="text-muted">(@c.ChannelType)</span><br />
                    <a href="/Message/List?channelId=@c.ChannelID" class="btn btn-sm btn-info mt-1">Go to Messages</a>
                </div>
                <div>
                    <a href="/Channel/Edit?id=@c.ChannelID" class="btn btn-sm btn-warning">Edit</a>
                    <form method="post" action="/Channel/Delete?id=@c.ChannelID" style="display:inline;">
                        <button type="submit" class="btn btn-sm btn-danger ms-1">Delete</button>
                    </form>
                </div>
            </li>
        }
    </ul>
}
else
{
    <p class="text-danger">No channels found for this server.</p>
}

<hr />

<h4 class="mt-4">Add New Channel</h4>
<form method="post" action="/Channel/Create">
    <input type="hidden" name="serverId" value="@serverId" />
    <div class="mb-2">
        <input name="channelName" class="form-control" placeholder="New Channel Name" required />
    </div>
    <button type="submit" class="btn btn-primary">Add Channel</button>
</form>

<a href="/Home/Index" class="btn btn-secondary mt-4">⬅ Back to Dashboard</a>
